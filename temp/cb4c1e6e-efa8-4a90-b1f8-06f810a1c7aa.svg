<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg id="mermaid-1743203310661" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="605" style="max-width: 1766.203125px;" viewBox="0 0 1766.203125 605"><style>#mermaid-1743203310661 {font-family:arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1743203310661 .error-icon{fill:#552222;}#mermaid-1743203310661 .error-text{fill:#552222;stroke:#552222;}#mermaid-1743203310661 .edge-thickness-normal{stroke-width:2px;}#mermaid-1743203310661 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1743203310661 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1743203310661 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1743203310661 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1743203310661 .marker{fill:#333333;stroke:#333333;}#mermaid-1743203310661 .marker.cross{stroke:#333333;}#mermaid-1743203310661 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-1743203310661 g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:arial,sans-serif;font-size:10px;}#mermaid-1743203310661 g.classGroup text .title{font-weight:bolder;}#mermaid-1743203310661 .nodeLabel,#mermaid-1743203310661 .edgeLabel{color:#131300;}#mermaid-1743203310661 .edgeLabel .label rect{fill:#ECECFF;}#mermaid-1743203310661 .label text{fill:#131300;}#mermaid-1743203310661 .edgeLabel .label span{background:#ECECFF;}#mermaid-1743203310661 .classTitle{font-weight:bolder;}#mermaid-1743203310661 .node rect,#mermaid-1743203310661 .node circle,#mermaid-1743203310661 .node ellipse,#mermaid-1743203310661 .node polygon,#mermaid-1743203310661 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1743203310661 .divider{stroke:#9370DB;stroke:1;}#mermaid-1743203310661 g.clickable{cursor:pointer;}#mermaid-1743203310661 g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#mermaid-1743203310661 g.classGroup line{stroke:#9370DB;stroke-width:1;}#mermaid-1743203310661 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#mermaid-1743203310661 .classLabel .label{fill:#9370DB;font-size:10px;}#mermaid-1743203310661 .relation{stroke:#333333;stroke-width:1;fill:none;}#mermaid-1743203310661 .dashed-line{stroke-dasharray:3;}#mermaid-1743203310661 #compositionStart,#mermaid-1743203310661 .composition{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1743203310661 #compositionEnd,#mermaid-1743203310661 .composition{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1743203310661 #dependencyStart,#mermaid-1743203310661 .dependency{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1743203310661 #dependencyStart,#mermaid-1743203310661 .dependency{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1743203310661 #extensionStart,#mermaid-1743203310661 .extension{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1743203310661 #extensionEnd,#mermaid-1743203310661 .extension{fill:#333333!important;stroke:#333333!important;stroke-width:1;}#mermaid-1743203310661 #aggregationStart,#mermaid-1743203310661 .aggregation{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#mermaid-1743203310661 #aggregationEnd,#mermaid-1743203310661 .aggregation{fill:#ECECFF!important;stroke:#333333!important;stroke-width:1;}#mermaid-1743203310661 .edgeTerminals{font-size:11px;}#mermaid-1743203310661 :root{--mermaid-font-family:arial,sans-serif;}</style><g transform="translate(0, 0)"><defs><marker id="classDiagram-aggregationStart" class="marker aggregation classDiagram" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="classDiagram-aggregationEnd" class="marker aggregation classDiagram" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="classDiagram-extensionStart" class="marker extension classDiagram" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 1,7 L18,13 V 1 Z"></path></marker></defs><defs><marker id="classDiagram-extensionEnd" class="marker extension classDiagram" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 1,1 V 13 L18,7 Z"></path></marker></defs><defs><marker id="classDiagram-compositionStart" class="marker composition classDiagram" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="classDiagram-compositionEnd" class="marker composition classDiagram" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="classDiagram-dependencyStart" class="marker dependency classDiagram" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 5,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="classDiagram-dependencyEnd" class="marker dependency classDiagram" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M708.3125,121.16580764529024L625.2356770833334,133.63817303774186C542.1588541666666,146.1105384301935,376.0052083333333,171.05526921509673,292.9283854166667,187.69430127421504C209.8515625,204.33333333333334,209.8515625,212.66666666666666,209.8515625,216.83333333333334L209.8515625,221" id="id1" class="  edge-pattern-solid relation" style="fill:none" marker-end="url(#classDiagram-dependencyEnd)"></path><path d="M731.6086047535211,171L722.0162852112676,175.16666666666666C712.4239656690141,179.33333333333334,693.239326584507,187.66666666666666,683.6470070422534,196C674.0546875,204.33333333333334,674.0546875,212.66666666666666,674.0546875,216.83333333333334L674.0546875,221" id="id2" class="  edge-pattern-solid relation" style="fill:none" marker-end="url(#classDiagram-dependencyEnd)"></path><path d="M1106.8601452464789,171L1116.4524647887324,175.16666666666666C1126.044784330986,179.33333333333334,1145.229423415493,187.66666666666666,1154.8217429577464,196C1164.4140625,204.33333333333334,1164.4140625,212.66666666666666,1164.4140625,216.83333333333334L1164.4140625,221" id="id3" class="  edge-pattern-solid relation" style="fill:none" marker-end="url(#classDiagram-dependencyEnd)"></path><path d="M1130.15625,122.48179586592948L1208.515625,134.73482988827456C1286.875,146.98786391061967,1443.59375,171.49393195530982,1521.953125,187.9136326443216C1600.3125,204.33333333333334,1600.3125,212.66666666666666,1600.3125,216.83333333333334L1600.3125,221" id="id4" class="  edge-pattern-solid relation" style="fill:none" marker-end="url(#classDiagram-dependencyEnd)"></path><path d="M209.8515625,361L209.8515625,365.1666666666667C209.8515625,369.3333333333333,209.8515625,377.6666666666667,224.546875,389.30440270625064C239.2421875,400.9421387458346,268.6328125,415.88427749166914,283.328125,423.35534686458647L298.0234375,430.8264162375038" id="id5" class="  edge-pattern-solid relation" style="fill:none" marker-end="url(#classDiagram-dependencyEnd)"></path><path d="M674.0546875,361L674.0546875,365.1666666666667C674.0546875,369.3333333333333,674.0546875,377.6666666666667,659.359375,389.30440270625064C644.6640625,400.9421387458346,615.2734375,415.88427749166914,600.578125,423.35534686458647L585.8828125,430.8264162375038" id="id6" class="  edge-pattern-solid relation" style="fill:none" marker-end="url(#classDiagram-dependencyEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="classid-CryptographicVerificationFramework-0" transform="translate(919.234375, 89.5)"><rect class="outer title-state" x="-210.921875" y="-81.5" width="421.84375" height="163"></rect><line class="divider" x1="-210.921875" x2="210.921875" y1="-50.5" y2="-50.5"></line><line class="divider" x1="-210.921875" x2="210.921875" y1="-34.5" y2="-34.5"></line><g class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject><foreignObject class="classTitle" width="331.921875" height="19" transform="translate( -165.9609375, -79)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">CryptographicVerificationFramework</span></div></foreignObject><foreignObject width="310.765625" height="19" transform="translate( -208.421875, -32)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+generateCoupon(offerId, constraints)</span></div></foreignObject><foreignObject width="414.328125" height="19" transform="translate( -208.421875, -9)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+validateCoupon(couponCode, transactionContext)</span></div></foreignObject><foreignObject width="416.84375" height="19" transform="translate( -208.421875, 14)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+recordRedemption(couponCode, redemptionProof)</span></div></foreignObject><foreignObject width="341.75" height="19" transform="translate( -208.421875, 37)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+verifyRedemptionProof(redemptionProof)</span></div></foreignObject><foreignObject width="315.03125" height="19" transform="translate( -208.421875, 60)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+generateEffectivenessMetrics(offerId)</span></div></foreignObject></g></g><g class="node default" id="classid-CouponGenerator-1" transform="translate(209.8515625, 291)"><rect class="outer title-state" x="-201.8515625" y="-70" width="403.703125" height="140"></rect><line class="divider" x1="-201.8515625" x2="201.8515625" y1="-39" y2="-39"></line><line class="divider" x1="-201.8515625" x2="201.8515625" y1="-23" y2="-23"></line><g class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject><foreignObject class="classTitle" width="159.40625" height="19" transform="translate( -79.703125, -67.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">CouponGenerator</span></div></foreignObject><foreignObject width="330.03125" height="19" transform="translate( -199.3515625, -20.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+createCouponCode(offerId, constraints)</span></div></foreignObject><foreignObject width="398.703125" height="19" transform="translate( -199.3515625, 2.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+createBatchCoupons(offerId, count, constraints)</span></div></foreignObject><foreignObject width="323.796875" height="19" transform="translate( -199.3515625, 25.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+generateRedemptionKey(couponCode)</span></div></foreignObject><foreignObject width="398.65625" height="19" transform="translate( -199.3515625, 48.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+createTargetedCoupon(offerId, userPreferences)</span></div></foreignObject></g></g><g class="node default" id="classid-CouponValidator-2" transform="translate(674.0546875, 291)"><rect class="outer title-state" x="-212.3515625" y="-70" width="424.703125" height="140"></rect><line class="divider" x1="-212.3515625" x2="212.3515625" y1="-39" y2="-39"></line><line class="divider" x1="-212.3515625" x2="212.3515625" y1="-23" y2="-23"></line><g class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject><foreignObject class="classTitle" width="150.015625" height="19" transform="translate( -75.0078125, -67.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">CouponValidator</span></div></foreignObject><foreignObject width="329.203125" height="19" transform="translate( -209.8515625, -20.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+verifyCouponAuthenticity(couponCode)</span></div></foreignObject><foreignObject width="334.28125" height="19" transform="translate( -209.8515625, 2.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+checkConstraints(couponCode, context)</span></div></foreignObject><foreignObject width="308.75" height="19" transform="translate( -209.8515625, 25.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+detectDoubleSpending(couponCode)</span></div></foreignObject><foreignObject width="419.703125" height="19" transform="translate( -209.8515625, 48.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+validateRedemptionContext(couponCode, context)</span></div></foreignObject></g></g><g class="node default" id="classid-RedemptionProcessor-3" transform="translate(1164.4140625, 291)"><rect class="outer title-state" x="-228.0078125" y="-70" width="456.015625" height="140"></rect><line class="divider" x1="-228.0078125" x2="228.0078125" y1="-39" y2="-39"></line><line class="divider" x1="-228.0078125" x2="228.0078125" y1="-23" y2="-23"></line><g class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject><foreignObject class="classTitle" width="198" height="19" transform="translate( -99, -67.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">RedemptionProcessor</span></div></foreignObject><foreignObject width="447.015625" height="19" transform="translate( -225.5078125, -20.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+processRedemption(couponCode, transactionContext)</span></div></foreignObject><foreignObject width="451.015625" height="19" transform="translate( -225.5078125, 2.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+generateRedemptionProof(couponCode, transactionId)</span></div></foreignObject><foreignObject width="401.234375" height="19" transform="translate( -225.5078125, 25.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+recordAnonymousRedemption(redemptionProof)</span></div></foreignObject><foreignObject width="318.4375" height="19" transform="translate( -225.5078125, 48.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+verifyRedemptionStatus(couponCode)</span></div></foreignObject></g></g><g class="node default" id="classid-EffectivenessAnalyzer-4" transform="translate(1600.3125, 291)"><rect class="outer title-state" x="-157.890625" y="-70" width="315.78125" height="140"></rect><line class="divider" x1="-157.890625" x2="157.890625" y1="-39" y2="-39"></line><line class="divider" x1="-157.890625" x2="157.890625" y1="-23" y2="-23"></line><g class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject><foreignObject class="classTitle" width="198.46875" height="19" transform="translate( -99.234375, -67.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">EffectivenessAnalyzer</span></div></foreignObject><foreignObject width="252.046875" height="19" transform="translate( -155.390625, -20.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+trackRedemptionRate(offerId)</span></div></foreignObject><foreignObject width="256.71875" height="19" transform="translate( -155.390625, 2.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+analyzeUserSegments(offerId)</span></div></foreignObject><foreignObject width="178.78125" height="19" transform="translate( -155.390625, 25.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+calculateROI(offerId)</span></div></foreignObject><foreignObject width="310.78125" height="19" transform="translate( -155.390625, 48.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+generateAnonymizedReports(offerId)</span></div></foreignObject></g></g><g class="node default" id="classid-CouponConstraints-5" transform="translate(441.953125, 504)"><rect class="outer title-state" x="-143.9296875" y="-93" width="287.859375" height="186"></rect><line class="divider" x1="-143.9296875" x2="143.9296875" y1="-62" y2="-62"></line><line class="divider" x1="-143.9296875" x2="143.9296875" y1="69" y2="69"></line><g class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject><foreignObject class="classTitle" width="172" height="19" transform="translate( -86, -90.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">CouponConstraints</span></div></foreignObject><foreignObject width="140.09375" height="19" transform="translate( -141.4296875, -55.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+validFrom: Date</span></div></foreignObject><foreignObject width="137.46875" height="19" transform="translate( -141.4296875, -32.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+validUntil: Date</span></div></foreignObject><foreignObject width="226.15625" height="19" transform="translate( -141.4296875, -9.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+maxRedemptions: number</span></div></foreignObject><foreignObject width="237.5" height="19" transform="translate( -141.4296875, 13.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+productRestrictions: string[]</span></div></foreignObject><foreignObject width="282.859375" height="19" transform="translate( -141.4296875, 36.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+userSegmentRestrictions: string[]</span></div></foreignObject><foreignObject width="150.4375" height="19" transform="translate( -141.4296875, 71.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">+validate(context)</span></div></foreignObject></g></g></g></g></g></svg>